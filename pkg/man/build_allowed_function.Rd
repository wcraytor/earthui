% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_allowed.R
\name{build_allowed_function}
\alias{build_allowed_function}
\title{Build an allowed function for earth()}
\usage{
build_allowed_function(allowed_matrix)
}
\arguments{
\item{allowed_matrix}{A symmetric logical matrix as returned by
\code{\link[=build_allowed_matrix]{build_allowed_matrix()}}.}
}
\value{
A function with signature
\verb{function(degree, pred, parents, namesx, first)} suitable for the
\code{allowed} parameter of \code{\link[earth:earth]{earth::earth()}}.
}
\description{
Converts an allowed interaction matrix into a function compatible with
the \code{allowed} parameter of \code{\link[earth:earth]{earth::earth()}}. The function checks that
ALL pairwise combinations among the predictors in a proposed interaction
term are TRUE in the matrix.
}
\details{
The returned function implements the standard \code{earth()} allowed function
contract. When earth proposes a new hinge function involving predictor
\code{pred} with existing parent predictors indicated by the \code{parents} logical
vector, the function checks that every pair of involved predictors is
allowed in the matrix.

For a 3-way interaction between X, Y, Z, the function verifies that
(X,Y), (Y,Z), and (X,Z) are all TRUE in the matrix.
}
\examples{
mat <- build_allowed_matrix(c("sqft", "bedrooms", "pool"))
mat["sqft", "pool"] <- FALSE
mat["pool", "sqft"] <- FALSE
func <- build_allowed_function(mat)
}
