% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_earth.R
\name{fit_earth}
\alias{fit_earth}
\title{Fit an earth model}
\usage{
fit_earth(
  df,
  target,
  predictors,
  categoricals = NULL,
  linpreds = NULL,
  degree = 1L,
  allowed_func = NULL,
  nfold = NULL,
  nprune = NULL,
  thresh = NULL,
  penalty = NULL,
  minspan = NULL,
  endspan = NULL,
  fast.k = NULL,
  pmethod = NULL,
  glm = NULL,
  ...
)
}
\arguments{
\item{df}{A data frame containing the modeling data.}

\item{target}{Character string. Name of the response variable.}

\item{predictors}{Character vector. Names of predictor variables.}

\item{categoricals}{Character vector. Names of predictors to treat as
categorical (converted to factors before fitting). Default is \code{NULL}.}

\item{linpreds}{Character vector. Names of predictors constrained to enter
the model linearly (no hinge functions). Default is \code{NULL}.}

\item{degree}{Integer. Maximum degree of interaction. Default is 1
(no interactions). When >= 2, cross-validation is automatically enabled.}

\item{allowed_func}{Function or \code{NULL}. An allowed function as returned by
\code{\link[=build_allowed_function]{build_allowed_function()}}. Only used when \code{degree >= 2}.}

\item{nfold}{Integer. Number of cross-validation folds. Automatically set
to 10 when \code{degree >= 2} unless explicitly provided. Set to 0 to disable.}

\item{nprune}{Integer or \code{NULL}. Maximum number of terms in the pruned model.}

\item{thresh}{Numeric. Forward stepping threshold. Default is earth's default
(0.001).}

\item{penalty}{Numeric. Generalized cross-validation penalty per knot.
Default is earth's default (if \code{degree > 1}, \code{3}; otherwise \code{2}).}

\item{minspan}{Integer or \code{NULL}. Minimum number of observations between
knots.}

\item{endspan}{Integer or \code{NULL}. Minimum number of observations before
the first and after the last knot.}

\item{fast.k}{Integer. Maximum number of parent terms considered at each
step of the forward pass. Default is earth's default (20).}

\item{pmethod}{Character. Pruning method. One of \code{"backward"}, \code{"none"},
\code{"exhaustive"}, \code{"forward"}, \code{"seqrep"}, \code{"cv"}. Default is \code{"backward"}.}

\item{glm}{List or \code{NULL}. If provided, passed to earth's \code{glm} argument
to fit a GLM on the earth basis functions.}

\item{...}{Additional arguments passed to \code{\link[earth:earth]{earth::earth()}}.}
}
\value{
A list with class \code{"earthui_result"} containing:
\describe{
\item{model}{The fitted earth model object.}
\item{target}{Name of the response variable.}
\item{predictors}{Names of predictor variables used.}
\item{categoricals}{Names of categorical predictors.}
\item{degree}{Degree of interaction used.}
\item{cv_enabled}{Logical; whether cross-validation was used.}
\item{data}{The data frame used for fitting.}
}
}
\description{
Wrapper around \code{\link[earth:earth]{earth::earth()}} with parameter validation and automatic
cross-validation when interaction terms are enabled.
}
\examples{
df <- mtcars
result <- fit_earth(df, target = "mpg",
                    predictors = c("cyl", "disp", "hp", "wt"))
format_summary(result)
}
